<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<model type="com.apple.IDECoreDataModeler.DataModel" documentVersion="1.0" lastSavedToolsVersion="21754" systemVersion="22F82" minimumToolsVersion="Automatic" sourceLanguage="Swift" userDefinedModelVersionIdentifier="">
    <entity name="CDUser" representedClassName="CDUser" syncable="YES">
        <attribute name="id" attributeType="UUID" usesScalarValueType="NO"/>
        <attribute name="username" attributeType="String"/>
        <attribute name="email" attributeType="String"/>
        <attribute name="avatarURL" optional="YES" attributeType="String"/>
        <attribute name="level" attributeType="Integer 32" defaultValueString="1" usesScalarValueType="YES"/>
        <attribute name="experience" attributeType="Integer 32" defaultValueString="0" usesScalarValueType="YES"/>
        <attribute name="joinedAt" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="treasuresCreated" attributeType="Integer 32" defaultValueString="0" usesScalarValueType="YES"/>
        <attribute name="treasuresFound" attributeType="Integer 32" defaultValueString="0" usesScalarValueType="YES"/>
        <attribute name="points" attributeType="Integer 32" defaultValueString="0" usesScalarValueType="YES"/>
        <attribute name="bio" optional="YES" attributeType="String"/>
        <attribute name="isActive" attributeType="Boolean" defaultValueString="YES" usesScalarValueType="YES"/>
        <attribute name="settingsData" optional="YES" attributeType="Binary"/>
        <attribute name="lastSyncDate" optional="YES" attributeType="Date" usesScalarValueType="NO"/>
        <relationship name="createdTreasures" optional="YES" toMany="YES" deletionRule="Cascade" destinationEntity="CDTreasure" inverseName="creator" inverseEntity="CDTreasure"/>
        <relationship name="discoveries" optional="YES" toMany="YES" deletionRule="Cascade" destinationEntity="CDDiscovery" inverseName="user" inverseEntity="CDDiscovery"/>
        <relationship name="friends" optional="YES" toMany="YES" deletionRule="Nullify" destinationEntity="CDUser"/>
    </entity>
    <entity name="CDTreasure" representedClassName="CDTreasure" syncable="YES">
        <attribute name="id" attributeType="UUID" usesScalarValueType="NO"/>
        <attribute name="creatorId" attributeType="UUID" usesScalarValueType="NO"/>
        <attribute name="title" attributeType="String"/>
        <attribute name="treasureDescription" optional="YES" attributeType="String"/>
        <attribute name="message" optional="YES" attributeType="String"/>
        <attribute name="latitude" attributeType="Double" defaultValueString="0.0" usesScalarValueType="YES"/>
        <attribute name="longitude" attributeType="Double" defaultValueString="0.0" usesScalarValueType="YES"/>
        <attribute name="altitude" attributeType="Double" defaultValueString="0.0" usesScalarValueType="YES"/>
        <attribute name="arAnchorData" optional="YES" attributeType="Binary"/>
        <attribute name="type" attributeType="String" defaultValueString="standard"/>
        <attribute name="mediaURL" optional="YES" attributeType="String"/>
        <attribute name="visibility" attributeType="String" defaultValueString="public"/>
        <attribute name="difficulty" attributeType="String" defaultValueString="medium"/>
        <attribute name="hint" optional="YES" attributeType="String"/>
        <attribute name="points" attributeType="Integer 32" defaultValueString="10" usesScalarValueType="YES"/>
        <attribute name="maxDiscoveries" optional="YES" attributeType="Integer 32" usesScalarValueType="YES"/>
        <attribute name="isActive" attributeType="Boolean" defaultValueString="YES" usesScalarValueType="YES"/>
        <attribute name="createdAt" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="expiresAt" optional="YES" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="arObjectData" optional="YES" attributeType="Binary"/>
        <attribute name="lastSyncDate" optional="YES" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="needsSync" attributeType="Boolean" defaultValueString="NO" usesScalarValueType="YES"/>
        <relationship name="creator" optional="YES" maxCount="1" deletionRule="Nullify" destinationEntity="CDUser" inverseName="createdTreasures" inverseEntity="CDUser"/>
        <relationship name="discoveries" optional="YES" toMany="YES" deletionRule="Cascade" destinationEntity="CDDiscovery" inverseName="treasure" inverseEntity="CDDiscovery"/>
    </entity>
    <entity name="CDDiscovery" representedClassName="CDDiscovery" syncable="YES">
        <attribute name="id" attributeType="UUID" usesScalarValueType="NO"/>
        <attribute name="treasureId" attributeType="UUID" usesScalarValueType="NO"/>
        <attribute name="userId" attributeType="UUID" usesScalarValueType="NO"/>
        <attribute name="discoveredAt" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="photoURL" optional="YES" attributeType="String"/>
        <attribute name="comment" optional="YES" attributeType="String"/>
        <attribute name="reactionType" optional="YES" attributeType="String"/>
        <attribute name="pointsEarned" attributeType="Integer 32" defaultValueString="0" usesScalarValueType="YES"/>
        <attribute name="timeToFind" optional="YES" attributeType="Integer 32" usesScalarValueType="YES"/>
        <attribute name="distanceFromTreasure" optional="YES" attributeType="Float" defaultValueString="0.0" usesScalarValueType="YES"/>
        <attribute name="lastSyncDate" optional="YES" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="needsSync" attributeType="Boolean" defaultValueString="NO" usesScalarValueType="YES"/>
        <relationship name="treasure" optional="YES" maxCount="1" deletionRule="Nullify" destinationEntity="CDTreasure" inverseName="discoveries" inverseEntity="CDTreasure"/>
        <relationship name="user" optional="YES" maxCount="1" deletionRule="Nullify" destinationEntity="CDUser" inverseName="discoveries" inverseEntity="CDUser"/>
    </entity>
    <entity name="CDSyncQueue" representedClassName="CDSyncQueue" syncable="YES">
        <attribute name="id" attributeType="UUID" usesScalarValueType="NO"/>
        <attribute name="entityType" attributeType="String"/>
        <attribute name="entityId" attributeType="UUID" usesScalarValueType="NO"/>
        <attribute name="action" attributeType="String"/>
        <attribute name="payload" optional="YES" attributeType="Binary"/>
        <attribute name="createdAt" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="retryCount" attributeType="Integer 32" defaultValueString="0" usesScalarValueType="YES"/>
        <attribute name="lastAttempt" optional="YES" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="status" attributeType="String" defaultValueString="pending"/>
    </entity>
</model>